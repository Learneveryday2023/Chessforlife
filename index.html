<!DOCTYPE html>
<html lang="th" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>วิถีเซียน: บทเรียนชีวิตผ่านกระดานหมากรุก</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Sunrise -->
    <!-- Application Structure Plan: A single-page, vertical scrolling storybook format. This structure was chosen to preserve the narrative flow of the source report while enhancing user engagement and providing easy navigation. -->
    <!-- Visualization & Content Choices: The primary content is narrative text. Key information is presented clearly. Reflection questions use accordions with textareas for user input. A summary page compiles user answers. Justification: These choices prioritize readability, user engagement, and interactive discovery. Method: Vanilla JS for all interactions. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Sarabun', sans-serif;
            background-image: url('https://source.unsplash.com/1920x1080/?sunrise,warm,mountains,calm');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            color: #334155; /* slate-700 */
        }
        .main-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(255, 251, 235, 0.85); /* amber-50 with opacity */
            backdrop-filter: blur(3px);
            z-index: -1;
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-out, padding 0.5s ease-out;
            padding: 0 1.5rem;
        }
        .accordion-item.open .accordion-content {
            max-height: 1000px;
            padding: 1rem 1.5rem;
        }
        .accordion-arrow {
            transition: transform 0.3s ease-in-out;
        }
        .accordion-item.open .accordion-arrow {
            transform: rotate(180deg);
        }
        .story-text p {
            margin-bottom: 1rem;
            line-height: 1.75;
        }
        textarea {
            resize: vertical;
        }
        .dialogue-box {
            margin-top: 1rem;
            margin-bottom: 1rem;
            padding: 1rem;
            border-left-width: 4px;
            border-color: #fcd34d; /* amber-300 */
            background-color: rgba(255, 251, 235, 0.5); /* amber-50 with opacity */
            border-top-right-radius: 0.5rem;
            border-bottom-right-radius: 0.5rem;
        }
    </style>
</head>
<body class="relative">

    <div class="relative main-container">
    <main class="container mx-auto px-4 py-8 md:py-16 max-w-4xl relative z-10">
        <!-- Hero Section -->
        <header id="hero" class="text-center mb-16 scroll-mt-20">
            <h1 class="text-4xl md:text-6xl font-bold text-amber-900 mb-4">วิถีเซียน</h1>
            <p class="text-lg md:text-2xl text-amber-700">บทเรียนชีวิตผ่านกระดานหมากรุก</p>
        </header>

         <!-- Table of Contents -->
        <section id="toc" class="mb-20 scroll-mt-20">
            <div class="bg-white/80 backdrop-blur-sm p-6 md:p-8 rounded-2xl shadow-lg">
                <h2 class="text-2xl md:text-3xl font-bold mb-6 text-amber-800 text-center">สารบัญการเดินทาง</h2>
                <ul class="space-y-3 text-lg" id="toc-list">
                    <!-- TOC items will be generated by JS -->
                </ul>
            </div>
        </section>

        <!-- Introduction -->
        <section id="intro" class="mb-20 scroll-mt-20">
            <div class="bg-white/80 backdrop-blur-sm p-6 md:p-8 rounded-2xl shadow-lg">
                <h2 class="text-2xl md:text-3xl font-bold mb-4 text-amber-800">บทนำ: การเดินทางสู่ยอดเขา</h2>
                <div class="story-text text-slate-700">
                    <p>ลมหายใจของคีตะขาดห้วง แต่ละก้าวที่เหยียบย่ำลงบนผืนดินสูงชันช่างหนักอึ้งราวกับแบกภูเขาทั้งลูกไว้บนบ่า สามวันสามคืนที่ผ่านมา ภาพของยอดเขาแห่งนี้เป็นดั่งแสงนำทางให้เขาก้าวผ่านป่าทึบและหน้าผาอันตราย ในใจของเด็กหนุ่มเต็มไปด้วยภาพจินตนาการถึงสำนักหมากรุกที่ยิ่งใหญ่ ปราสาทโอ่อ่าที่ซ่อนตัวอยู่ในม่านเมฆ และเซียนหมากรุกในตำนานผู้ไร้พ่าย</p>
                    <p>แต่สิ่งที่ปรากฏแก่สายตาเมื่อเขามาถึง กลับทำลายจินตนาการทั้งหมดลงอย่างสิ้นเชิง มีเพียงกระท่อมไม้หลังเล็กซอมซ่อตั้งอยู่อย่างสมถะ และชายชราผมสีดอกเลาในชุดผ้าป่านเรียบง่าย กำลังนั่งสงบนิ่งอยู่หน้ากระดานหมากรุกไม้สลักที่... ว่างเปล่า ความหวังอันเปี่ยมล้นของคีตะพลันสั่นคลอน แต่เขาก็รวบรวมความกล้าคุกเข่าลงเบื้องหน้าชายชรา</p>
                    <div class="dialogue-box"> <p class="font-semibold text-amber-800">คีตะ:</p> <p class="italic text-slate-700 pl-4">“ท่านอาจารย์ โปรดรับข้าเป็นศิษย์ด้วยเถิด ข้าเดินทางมาไกลเพื่อเรียนรู้สุดยอดกลยุทธ์จากท่าน”</p> </div>
                    <p>ชายชราลืมตาขึ้น ดวงตาของท่านสงบนิ่งแต่ลุ่มลึกราวกับมหาสมุทร ท่านไม่ตอบรับหรือปฏิเสธ เพียงแย้มยิ้มบางเบา แล้วเอ่ยขึ้นด้วยน้ำเสียงที่นุ่มนวลทว่าทรงพลัง</p>
                    <div class="dialogue-box"> <p class="font-semibold text-amber-800">ท่านอาจารย์:</p> <p class="italic text-slate-700 pl-4">“เจ้าคาดหวังว่าจะได้เรียนรู้อะไรจากคนแก่อย่างข้า?”</p> </div>
                    <p>คีตะตอบอย่างมุ่งมั่น</p>
                    <div class="dialogue-box"> <p class="font-semibold text-amber-800">คีตะ:</p> <p class="italic text-slate-700 pl-4">“เคล็ดวิชาเอาชนะคู่ต่อสู้ การอ่านเกม การวางแผนที่แยบยล... ทุกอย่างที่จะทำให้ข้าเป็นผู้ไม่แพ้เช่นท่าน!”</p> </div>
                    <p>ท่านอาจารย์หัวเราะเบาๆ ในลำคอ</p>
                    <div class="dialogue-box"> <p class="font-semibold text-amber-800">ท่านอาจารย์:</p> <p class="italic text-slate-700 pl-4">“ก่อนจะเรียนรู้การเดินหมากเพื่อเอาชนะผู้อื่น เจ้าต้องเรียนรู้ 'สนามแห่งชีวิต' เพื่อเข้าใจตนเองเสียก่อน... ทุกอย่างเริ่มต้นที่นี่ บทเรียนแรกของเจ้า... คือการมองดูความว่างเปล่านี้”</p> </div>
                </div>
            </div>
        </section>

        <!-- Chapters -->
        <div id="chapters-container">
            <!-- Chapter content will be dynamically generated here -->
        </div>

        <!-- Conclusion -->
        <section id="conclusion" class="mb-20 scroll-mt-20">
            <div class="bg-white/80 backdrop-blur-sm p-6 md:p-8 rounded-2xl shadow-lg">
                <h2 class="text-2xl md:text-3xl font-bold mb-4 text-amber-800">บทสรุป: เกมที่ไม่มีวันจบ</h2>
                 <div class="story-text text-slate-700">
                    <p>ในเช้าวันใหม่ที่สดใส คีตะเตรียมตัวลงจากเขา เขาก้มลงมองกระดานหมากรุกเป็นครั้งสุดท้าย บัดนี้เขาไม่ได้เห็นแค่ตัวหมากไม้ แต่เห็นภาพสะท้อนของชีวิต, การเดินทาง, ความผิดพลาด และศักยภาพที่ซ่อนอยู่ในตัวเอง เขาก้มกราบท่านอาจารย์อย่างสุดซึ้ง ไม่ใช่ในฐานะเซียนหมากรุก แต่ในฐานะผู้ชี้ทางแห่งชีวิต</p>
                     <div class="dialogue-box"> <p class="font-semibold text-amber-800">คีตะ:</p> <p class="italic text-slate-700 pl-4">“ขอบคุณท่านอาจารย์... ตอนนี้ข้าเข้าใจแล้วว่าเกมที่แท้จริงไม่ได้อยู่บนกระดานนี้”</p> </div>
                    <p>ท่านอาจารย์มองไปยังขอบฟ้า</p>
                     <div class="dialogue-box"> <p class="font-semibold text-amber-800">ท่านอาจารย์:</p> <p class="italic text-slate-700 pl-4">“ถูกต้อง... เกมบนกระดานนี้อาจมีวันจบ แต่เกมชีวิตนั้นไม่มีวันจบสิ้น ชัยชนะที่แท้จริงไม่ใช่การรุกฆาตผู้อื่น แต่คือการรุกคืบไปข้างหน้าเพื่อเป็นตัวเองในเวอร์ชันที่ดีกว่าเดิม... จงเรียนรู้ที่จะสนุกกับการตั้งกระดานใหม่ทุกวัน ไปเถอะคีตะ โลกทั้งใบกำลังรอกระดานของเจ้าอยู่”</p> </div>
                    <p>คีตะหันหลังเดินลงจากเขาอย่างมั่นคง แม้จะยังไม่รู้ว่าหนทางข้างหน้าจะเป็นเช่นไร แต่บัดนี้... เขารู้แล้วว่าจะเดินหมากตัวแรกอย่างไร</p>
                </div>
                 <div class="bg-amber-50 p-6 rounded-lg border border-amber-200 italic mt-6">
                    <p class=" text-amber-800 font-medium">"จงเรียนรู้และเติบโตอยู่เสมอไปตลอดชีวิต เพราะคนที่หยุดเรียนรู้... ก็ไม่ต่างอะไรจากคนที่ตายไปแล้ว"</p>
                </div>
                 <div class="mt-6 accordion-item">
                    <button class="accordion-header w-full flex justify-between items-center text-left p-4 bg-amber-100 rounded-lg hover:bg-amber-200 transition">
                        <span class="font-semibold text-amber-700">คำถามสุดท้าย... สู่กระดานใบใหม่ของเจ้า</span>
                        <span class="accordion-arrow text-amber-600">▼</span>
                    </button>
                    <div class="accordion-content text-amber-700">
                       <div class="space-y-4 mt-2">
                           <div>
                               <label for="answer-q8-1" class="block text-sm font-medium text-amber-800">"กระดาน" ใบต่อไปที่เจ้าจะเริ่มเล่นในชีวิตคือเรื่องอะไร?</label>
                               <textarea id="answer-q8-1" rows="3" class="mt-1 block w-full rounded-md bg-amber-50 border-amber-200 shadow-sm focus:border-amber-300 focus:ring focus:ring-amber-200 focus:ring-opacity-50"></textarea>
                           </div>
                           <div>
                               <label for="answer-q8-2" class="block text-sm font-medium text-amber-800">เจ้าจะเดิน "หมากตัวแรก" บนกระดานใบใหม่นั้นอย่างไร?</label>
                               <textarea id="answer-q8-2" rows="3" class="mt-1 block w-full rounded-md bg-amber-50 border-amber-200 shadow-sm focus:border-amber-300 focus:ring focus:ring-amber-200 focus:ring-opacity-50"></textarea>
                           </div>
                       </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Summary Section -->
        <section id="summary" class="mb-20 scroll-mt-20">
            <div class="bg-white/80 backdrop-blur-sm p-6 md:p-8 rounded-2xl shadow-lg">
                <h2 class="text-2xl md:text-3xl font-bold mb-4 text-amber-800">สรุปการเดินทางของเจ้า</h2>
                <p class="text-slate-700 mb-6">ที่นี่คือภาพสะท้อนความคิดและบทเรียนที่เจ้าได้ตกผลึกตลอดการเดินทางบนยอดเขาแห่งนี้ กดปุ่มด้านล่างเพื่อรวบรวมคำตอบของเจ้า</p>
                <button id="generate-summary-btn" class="w-full bg-amber-400 text-amber-900 font-bold py-3 px-6 rounded-lg hover:bg-amber-500 transition duration-300">สร้างสรุปการเดินทาง</button>
                <div id="summary-output" class="mt-8 space-y-6 hidden">
                    <!-- Summary content will be injected here by JavaScript -->
                </div>
            </div>
        </section>
        
    </main>
    </div>
    
    <footer class="text-center py-8 text-slate-700/80 relative z-10">
        <p>&copy; 2025 วิถีเซียน. การเดินทางเพิ่งเริ่มต้น</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            
            const storyData = [
                { id: 'hero', title: 'หน้าปก' },
                { id: 'toc', title: 'สารบัญ' },
                { id: 'intro', title: 'บทนำ' },
                {
                    id: 'chapter1',
                    icon: '♟',
                    title: 'บทที่ 1: กระดานหมากรุก - สนามแห่งชีวิต',
                    story: [
                        { speaker: 'narrator', text: `ชั่วโมงแล้วชั่วโมงเล่าที่ผ่านไป คีตะนั่งจ้องกระดานว่างเปล่าจนดวงตาพร่าเลือน ความอดทนของเขาเริ่มขาดผึง ความฝันที่จะได้เรียนรู้กลยุทธ์พลิกแพลงกลับกลายเป็นการทรมานที่ไร้สาระ ในที่สุดเขาก็ทนไม่ไหว` },
                        { speaker: 'คีตะ', text: `ท่านอาจารย์... ข้าไม่เข้าใจ ข้าควรจะเห็นอะไรจากกระดานที่ว่างเปล่านี้?` },
                        { speaker: 'narrator', text: `ท่านอาจารย์รินชาอย่างเชื่องช้า` },
                        { speaker: 'ท่านอาจารย์', text: `เจ้าเห็นอะไรล่ะ?` },
                        { speaker: 'narrator', text: `คีตะตอบอย่างหัวเสีย` },
                        { speaker: 'คีตะ', text: `ก็แค่... ตารางสี่เหลี่ยม... สีขาวกับสีดำ` },
                        { speaker: 'ท่านอาจารย์', text: `ถูกต้อง... ชีวิตก็เช่นกันคีตะ มีทั้งวันที่สว่างไสวและคืนที่มืดมิด มีทั้งโอกาสและความผิดพลาด เจ้าไม่อาจเลือกเดินบนช่องสีขาวได้ตลอดไป และไม่อาจหลีกเลี่ยงช่องสีดำได้ฉันใด ชีวิตก็ฉันนั้น ผู้คนมากมายพยายามวิ่งหนีความทุกข์ แต่พวกเขาไม่เข้าใจว่า การยอมรับความจริงทั้งสองด้านนี้ คือก้าวแรกของผู้ที่แข็งแกร่ง` },
                        { speaker: 'narrator', text: `ท่านอาจารย์มองลึกเข้าไปในดวงตาของคีตะ` },
                        { speaker: 'ท่านอาจารย์', text: `บัดนี้ ลุกขึ้น ยืนให้ตัวตรง อกผายไหล่ผึ่ง... นั่นคือท่าทีของผู้ที่พร้อมจะเริ่มเกมชีวิตของตนเอง` }
                    ],
                    quote: `"เพราะชีวิตมีความทุกข์หรือข้อจำกัด จึงทำให้เรื่องราวในชีวิตของเรามีความหมาย"`,
                    questions: [
                        { id: 'answer-q1-1', text: '"ช่องสีดำ" ในชีวิตของเจ้าคืออะไร และเจ้าเรียนรู้อะไรจากมันบ้าง?' },
                        { id: 'answer-q1-2', text: 'ท่าทีที่ "ยืนให้ตัวตรง อกผายไหล่ผึ่ง" ในการเผชิญหน้ากับปัญหาของเจ้า มีลักษณะเป็นอย่างไร?' }
                    ]
                },
                {
                    id: 'chapter2',
                    icon: '♙',
                    title: 'บทที่ 2: เบี้ย - ก้าวเล็กๆ สู่ความยิ่งใหญ่',
                    story: [
                        { speaker: 'narrator', text: `เช้าวันต่อมา ท่านอาจารย์มอบ "เบี้ย" หนึ่งตัวให้คีตะพร้อมภารกิจ` },
                        { speaker: 'ท่านอาจารย์', text: `จงพาเบี้ยตัวนี้ ข้ามไปให้ถึงอีกฝั่งของกระดาน แต่เจ้าจะเดินมันได้เพียงวันละหนึ่งช่องเท่านั้น` },
                        { speaker: 'narrator', text: `คีตะแทบจะหัวเราะออกมา มันช่างเป็นภารกิจที่ง่ายและน่าเบื่อสิ้นดี! วันแล้ววันเล่าที่ผ่านไป คีตะทำเพียงแค่ขยับเบี้ยไม้ตัวเล็กๆ ไปข้างหน้าหนึ่งช่อง ความกระตือรือร้นเหือดหายไป ถูกแทนที่ด้วยความเบื่อหน่ายและคำถามที่ว่าเขากำลังเสียเวลาอยู่หรือไม่ แต่ท่านอาจารย์กลับสอนให้เขาสังเกตรายละเอียดเล็กๆ น้อยๆ... รอยสลักบนตัวเบี้ย เงาที่ทอดทาบบนกระดานในแต่ละช่วงของวัน`},
                        { speaker: 'narrator', text: `จนกระทั่งวันที่เบี้ยใกล้จะถึงฝั่ง คีตะจึงเริ่มเข้าใจ`},
                        { speaker: 'คีตะ', text: `ท่านอาจารย์... ข้าดูถูกมัน เพราะมันเดินได้ทีละก้าว แต่ข้าลืมไปว่ามหาสมุทรก็เกิดจากหยดน้ำเล็กๆ นับล้าน` },
                        { speaker: 'narrator', text: `ท่านอาจารย์ยิ้ม` },
                        { speaker: 'ท่านอาจารย์', text: `ดูสิ... จากหมากที่อ่อนแอที่สุด บัดนี้มันกำลังจะกลายเป็นสิ่งที่ทรงพลังที่สุดในสนามรบได้ วินัยและความสม่ำเสมอเปลี่ยนสิ่งที่เป็นไปไม่ได้ ให้เป็นไปได้เสมอ` }
                    ],
                    quote: `"ความสำเร็จไม่ได้อยู่ในก้าวที่ยิ่งใหญ่ แต่อยู่ในสิ่งเล็กน้อยที่เราเริ่มลงมืออย่างต่อเนื่อง"`,
                    questions: [
                        { id: 'answer-q2-1', text: '"ก้าวเล็กๆ" ที่เจ้าสามารถทำได้ในวันนี้เพื่อเข้าใกล้เป้าหมายที่ยิ่งใหญ่คืออะไร?' },
                        { id: 'answer-q2-2', text: 'เจ้าเคยดูถูกศักยภาพของสิ่งเล็กๆ หรือการเริ่มต้นที่ไม่น่าประทับใจหรือไม่? เพราะอะไร?' }
                    ]
                },
                {
                    id: 'chapter3',
                    icon: '♘',
                    title: 'บทที่ 3: ม้า - คิดนอกกรอบ มองต่างมุม',
                    story: [
                        { speaker: 'narrator', text: `คืนหนึ่งพายุฝนโหมกระหน่ำรุนแรงราวกับฟ้าจะถล่ม ท่านอาจารย์จุดตะเกียงและตั้งโจทย์หมากรุกที่ดูสิ้นหวัง` },
                        { speaker: 'ท่านอาจารย์', text: `จงใช้ม้ารุกฆาตขุนตัวนั้นให้ได้ภายในสามตาเดิน` },
                        { speaker: 'narrator', text: `ท่านกล่าวพลางชี้ไปยังขุนที่ถูกล้อมด้วยกำแพงหมากหนาแน่น คีตะขมวดคิ้ว เขาพยายามใช้ความคิดแบบเดิมๆ หาทางเดินตรงๆ เพื่อทะลวงกำแพง แต่ก็ไร้ผล ยิ่งคิดก็ยิ่งตัน จนเขาร้องออกมาว่า` },
                        { speaker: 'คีตะ', text: `เป็นไปไม่ได้ท่านอาจารย์! ไม่มีทางที่หมากตัวไหนจะผ่านกำแพงนี้ไปได้` },
                        { speaker: 'narrator', text: `ท่านอาจารย์ยิ้ม` },
                        { speaker: 'ท่านอาจารย์', text: `นั่นเพราะเจ้ายังคิดแบบ 'เรือ' หรือ 'บิชอป' ที่เดินเป็นเส้นตรง... แต่ชีวิตมักมีอุปสรรคที่ขวางหน้าเราอยู่เสมอ คนส่วนใหญ่จะหยุดเมื่อเจอกำแพง แต่ผู้มีปัญญาจะเรียนรู้ที่จะเป็นเหมือน 'ม้า'... หาเส้นทางใหม่ๆ ที่คนอื่นมองไม่เห็น` },
                        { speaker: 'narrator', text: `ท่านอาจารย์ขยับม้าให้ดู มันกระโดดข้ามกำแพงไปอย่างสง่างาม` },
                        { speaker: 'ท่านอาจารย์', text: `จงกล้าที่จะแตกต่าง แล้วเจ้าจะพบทางออกในที่ที่ดูเหมือนไม่มีทาง` }
                    ],
                    quote: `"เวลาเจอทางที่ปิด อย่าเพิ่งล้มเลิก แต่จงสงสัยและตั้งคำถามเสมอ... บางทีอาจมีทางอื่นที่เรายังมองไม่เห็น"`,
                    questions: [
                        { id: 'answer-q3-1', text: '"กำแพง" ที่ขวางหน้าเจ้าอยู่ในตอนนี้คืออะไร? และจะมี "เส้นทางของม้า" แบบไหนบ้างที่เจ้ายังไม่เคยลอง?' },
                        { id: 'answer-q3-2', text: 'การ "กล้าที่จะแตกต่าง" ในสถานการณ์ปัจจุบันของเจ้า จะมีหน้าตาเป็นอย่างไร?' }
                    ]
                },
                 {
                    id: 'chapter4',
                    icon: '♗',
                    title: 'บทที่ 4: บิชอป - การมองการณ์ไกลในเส้นทางของตน',
                    story: [
                        { speaker: 'narrator', text: `วันหนึ่ง ท่านอาจารย์ให้คีตะลงเขาไปแลกเปลี่ยนสมุนไพรในหมู่บ้าน ที่นั่นคีตะได้เห็น 'วชิระ' บุตรชายของช่างตีเหล็ก ร่างกายกำยำ แข็งแรง กำลังใช้ค้อนทุบเหล็กร้อนแดงอย่างชำนาญ เสียงชื่นชมจากชาวบ้านดังก้องอยู่ในหูของคีตะ เขามองดูมือของตนเองที่จับแต่ตัวหมากไม้ แล้วมองดูมือของวชิระที่สร้างดาบและเครื่องมือที่จับต้องได้ ความรู้สึกน้อยเนื้อต่ำใจก็กัดกินเข้ามาในอก... เส้นทางของเขาช่างดูเลื่อนลอยและไร้ประโยชน์สิ้นดี` },
                        { speaker: 'narrator', text: `เขากลับขึ้นเขามาด้วยหัวใจที่หนักอึ้ง ท่านอาจารย์รินชาให้แล้วเริ่มบทเรียนของ 'บิชอป' ที่เดินอยู่บนช่องสีของตัวเองเสมอ` },
                        { speaker: 'ท่านอาจารย์', text: `เจ้าเห็นวชิระ... เขาคือบิชอปที่เดินบนช่องสีดำ เส้นทางของเขาชัดเจนและเป็นที่ประจักษ์ แต่เจ้า... คือบิชอปที่เดินบนช่องสีขาว เส้นทางของเจ้าอาจดูสงบเงียบกว่า แต่ก็มีพลังในแบบของมันเอง การที่บิชอปช่องขาวมัวแต่อิจฉาและพยายามจะเดินบนช่องสีดำนั้น... มีแต่จะทำให้มันไร้ค่า` },
                        { speaker: 'narrator', text: `คำพูดของท่านอาจารย์ทำให้คีตะตาสว่าง การเติบโตที่แท้จริง ไม่ได้มาจากการเอาชนะคนอื่น แต่มาจากการเอาชนะตัวเองในวันวาน` }
                    ],
                    quote: `"จงเปรียบเทียบกับคนที่เจ้าเป็นเมื่อวานนี้ ไม่ใช่สิ่งที่คนอื่นเป็นในวันนี้"`,
                    questions: [
                        { id: 'answer-q4-1', text: '"เส้นทางบนกระดานสีเดียว" ของเจ้าคืออะไร? อะไรคือเป้าหมายระยะไกลที่เจ้ากำลังมุ่งไป?' },
                        { id: 'answer-q4-2', text: 'วันนี้เจ้าจะเอาชนะ "ตัวเองในเมื่อวาน" ได้ในเรื่องใดบ้าง?' }
                    ]
                },
                {
                    id: 'chapter5',
                    icon: '♖',
                    title: 'บทที่ 5: เรือ - พลังแห่งความซื่อตรง',
                    story: [
                        { speaker: 'narrator', text: `ท่านอาจารย์มอบหมายให้คีตะสร้างทางเดินหินข้ามลำธารเล็กๆ หลังกระท่อม 'ง่ายนิดเดียว' คีตะคิดในใจ ด้วยความใจร้อนและอยากแสดงให้ท่านอาจารย์เห็นถึงความสามารถของตน เขาจึงเลือกทางลัด แทนที่จะขุดดินลงไปวางรากฐานให้มั่นคง เขากลับเลือกวางหินแบนขนาดใหญ่ทับๆ กันไปบนพื้นทรายอย่างลวกๆ ภายในเวลาไม่ถึงครึ่งวัน ทางเดินก็เสร็จสิ้น มันดูสวยงามและใช้งานได้ดีในทีแรก คีตะยืนชื่นชมผลงานของตนเองอย่างภาคภูมิใจ` },
                        { speaker: 'narrator', text: `แต่แล้วคืนหนึ่งฝนก็ตกหนัก เช้าวันต่อมา ภาพที่เห็นทำให้หัวใจของเขาหล่นวูบ ทางเดินหินที่เขาสร้างได้พังทลายลง กระแสน้ำพัดพาเอาก้อนหินกระจัดกระจายไปคนละทิศละทาง เขายืนนิ่งด้วยความรู้สึกละอายใจอย่างสุดซึ้งเมื่อท่านอาจารย์เดินมายืนอยู่ข้างๆ` },
                        { speaker: 'คีตะ', text: `ข้าเอง... ข้าไม่ได้สร้างมันให้ดีพอ ข้าแค่อยากให้มันเสร็จเร็วๆ` },
                        { speaker: 'narrator', text: `ท่านอาจารย์มองไปยังซากทางเดินแล้วกล่าวอย่างสงบ` },
                        { speaker: 'ท่านอาจารย์', text: `เรือเดินเป็นเส้นตรงและมั่นคง ไม่ใช่เพราะมันแข็งแกร่งเท่านั้น แต่เพราะมันซื่อตรงต่อเส้นทางของมัน สิ่งที่เจ้าสร้าง... คือความไม่จริงใจต่อรากฐานของงาน สิ่งที่ดูดีจากภายนอก แต่ขาดรากฐานที่ซื่อตรง... ย่อมไม่อาจทนทานต่อพายุได้ ในโลกที่เต็มไปด้วยทางลัด จงยึดมั่นในความจริงและความซื่อสัตย์เป็นรากฐาน การกระทำที่ตรงไปตรงมาอาจดูเชื่องช้าในตอนแรก แต่มันจะสร้างผลงานที่มั่นคงและยืนยาว` }
                    ],
                    quote: `"จงพูดความจริง หรืออย่างน้อยก็ไม่โกหก"`,
                    questions: [
                        { id: 'answer-q5-1', text: 'มีความจริงเรื่องใดบ้างที่เจ้ายังไม่กล้าพูดออกไป ทั้งกับตนเองและผู้อื่น?' },
                        { id: 'answer-q5-2', text: '"รากฐาน" ในเรื่องใดของเจ้าที่ต้องได้รับการซ่อมแซมด้วยความซื่อตรง?' }
                    ]
                },
                {
                    id: 'chapter6',
                    icon: '♕',
                    title: 'บทที่ 6: ควีน - อิสรภาพมาพร้อมความรับผิดชอบ',
                    story: [
                       { speaker: 'narrator', text: `ในวันที่คีตะเรียนรู้มาครบหนึ่งฤดู ท่านอาจารย์อนุญาตให้เขาจับ "ควีน" เป็นครั้งแรก เขาสัมผัสได้ถึงพลังที่แผ่ออกมาจากตัวหมาก มันเคลื่อนที่ได้ทุกทิศทางอย่างอิสระ ด้วยความลำพอง เขาเดินควีนบุกตะลุยเข้าไปในแดนศัตรูอย่างห้าวหาญ แต่กลับพลาดท่าติดกับดักง่ายๆ จนเสียควีนไป ท่านอาจารย์เพียงมองนิ่งๆ ปล่อยให้คีตะจมอยู่กับความผิดพลาดของตนเอง` },
                       { speaker: 'คีตะ', text: `ข้าประมาทเกินไป... ข้าหลงระเริงในพลังของมัน` },
                       { speaker: 'ท่านอาจารย์', text: `ถูกต้อง... ยิ่งเจ้ามีอิสระมากเท่าใด ความรับผิดชอบของเจ้าก็ยิ่งใหญ่ขึ้นเท่านั้น ทุกการตัดสินใจของควีนส่งผลต่อทั้งกระดาน คนส่วนใหญ่คิดว่าอิสรภาพคือการทำอะไรก็ได้ตามใจชอบ แต่แท้จริงแล้ว อิสรภาพที่แท้จริงเกิดจากวินัยและการยอมรับผลของการกระทำของตนเอง` }
                    ],
                    quote: `"วินัยคือสิ่งที่มอบอิสรภาพที่แท้จริงให้แก่เรา"`,
                    questions: [
                        { id: 'answer-q6-1', text: '"อิสรภาพ" ที่ยิ่งใหญ่ที่สุดของเจ้า มาพร้อมกับ "ความรับผิดชอบ" ที่หนักที่สุดในเรื่องใด?' },
                        { id: 'answer-q6-2', text: 'วินัยเล็กๆ อะไรบ้างที่จะมอบอิสรภาพที่ยิ่งใหญ่ขึ้นให้แก่เจ้าได้ในอนาคต?' }
                    ]
                },
                 {
                    id: 'chapter7',
                    icon: '♔',
                    title: 'บทที่ 7: ขุน - คุณค่าที่ต้องปกป้อง',
                    story: [
                        { speaker: 'narrator', text: `แม้จะเชี่ยวชาญกลยุทธ์มากขึ้น แต่ความว่างเปล่ากลับคืบคลานเข้ามาในใจคีตะ ความทะเยอทะยานที่จะเป็นผู้ไม่แพ้ในตอนแรกเริ่มจางหายไป เขารู้สึกเหมือนกำลังเล่นเกมที่ไม่มีวันจบสิ้น ความเจ็บปวดจากความไร้เป้าหมายทำให้เขาหมดแรงที่จะฝึกฝนต่อ` },
                        { speaker: 'คีตะ', text: `ท่านอาจารย์... ทั้งหมดนี้เพื่ออะไร? ข้าเรียนรู้การเดินหมาก แต่ข้ายังไม่รู้ว่าจะเดินชีวิตไปที่ใด` },
                        { speaker: 'narrator', text: `ท่านอาจารย์ไม่ตอบ แต่กวาดหมากทุกตัวออกจากกระดาน เหลือเพียง "ขุน" ตัวเดียว แล้วท่านก็ถามคำถามที่กรีดลึกลงไปในใจของคีตะ` },
                        { speaker: 'ท่านอาจารย์', text: `เมื่อพายุพัดผ่าน... เมื่อเจ้าสูญสิ้นทุกสิ่ง... อะไรคือสิ่งที่ยังเหลืออยู่?` },
                        { speaker: 'narrator', text: `คีตะนิ่งงันไปนาน ก่อนจะตระหนักได้ว่า ขุนคือ 'เหตุผล' คือ 'ความหมาย' ในชีวิตของเขา ทุกย่างก้าว ทุกการเสียสละ ก็เพื่อปกป้องสิ่งนี้` },
                        { speaker: 'คีตะ', text: `แล้ว... ข้าจะค้นพบ 'ขุน' ของข้าได้อย่างไร?` },
                        { speaker: 'ท่านอาจารย์', text: `มันอยู่ในคำตอบของคำถามที่ว่า... 'เจ้ามีชีวิตอยู่เพื่ออะไร?' จงหา 'ทำไม' ของเจ้าให้เจอ แล้วเจ้าจะพบหนทางในการใช้ชีวิต` }
                    ],
                    quote: `"เมื่อเจ้ารู้ว่าเจ้าจะทนทุกข์และต่อสู้ไปเพื่ออะไร เจ้าจะสามารถเผชิญหน้าได้กับทุกสิ่ง"`,
                    questions: [
                        { id: 'answer-q7-1', text: 'หากพายุพัดผ่านและทุกสิ่งพังทลาย "ขุน" หรือสิ่งที่มีความหมายที่สุดที่เจ้าจะปกป้องไว้คืออะไร?' },
                        { id: 'answer-q7-2', text: '"ทำไม" ของเจ้าคืออะไร? อะไรคือเหตุผลที่ทำให้เจ้าพร้อมจะลุกขึ้นสู้ในทุกๆ วัน?' }
                    ]
                }
            ];

            const chaptersContainer = document.getElementById('chapters-container');
            const sideNavList = document.getElementById('side-nav-list');
            const tocList = document.getElementById('toc-list');

            const chapterData = storyData.filter(d => d.story);

            chapterData.forEach((sectionData) => {
                const section = document.createElement('section');
                section.id = sectionData.id;
                section.className = 'mb-20 scroll-mt-20';
                let storyHTML = sectionData.story.map(item => {
                    if (item.speaker === 'narrator') return `<p>${item.text}</p>`;
                    return `<div class="dialogue-box"><p class="font-semibold text-amber-800">${item.speaker}:</p><p class="italic text-slate-700 pl-4">“${item.text}”</p></div>`;
                }).join('');
                let questionsHTML = sectionData.questions.map(q => `<div><label for="${q.id}" class="block text-sm font-medium text-amber-800">${q.text}</label><textarea id="${q.id}" rows="3" class="mt-1 block w-full rounded-md bg-amber-50 border-amber-200 shadow-sm focus:border-amber-300 focus:ring focus:ring-amber-200 focus:ring-opacity-50"></textarea></div>`).join('');
                section.innerHTML = `<div class="bg-white/80 backdrop-blur-sm p-6 md:p-8 rounded-2xl shadow-lg"> <div class="flex items-center mb-4"> <span class="text-5xl mr-4 text-amber-600">${sectionData.icon}</span> <h2 class="text-2xl md:text-3xl font-bold text-amber-800">${sectionData.title}</h2> </div> <div class="story-text text-slate-700">${storyHTML}</div> <div class="bg-amber-50 p-6 rounded-lg border border-amber-200 italic mt-6"><p class="text-amber-800 font-medium">${sectionData.quote}</p></div> <div class="mt-6 accordion-item"> <button class="accordion-header w-full flex justify-between items-center text-left p-4 bg-amber-100 rounded-lg hover:bg-amber-200 transition"><span class="font-semibold text-amber-700">คำถามเพื่อตกผลึก</span><span class="accordion-arrow text-amber-600">▼</span></button> <div class="accordion-content text-amber-700"><div class="space-y-4 mt-2">${questionsHTML}</div></div> </div> </div>`;
                chaptersContainer.appendChild(section);
            });

            const allSectionsForNav = [
                document.getElementById('hero'),
                document.getElementById('toc'),
                document.getElementById('intro'),
                ...document.querySelectorAll('#chapters-container section'),
                document.getElementById('conclusion'),
                document.getElementById('summary')
            ];

            const allSectionData = [
                 { id: 'hero', title: 'หน้าปก' },
                 ...storyData.slice(1) // Exclude hero from here
            ];


            if (tocList) {
                 allSectionData.forEach(pageData => {
                    if (pageData.id !== 'hero') {
                         const liToc = document.createElement('li');
                        let tocClass = 'block p-3 rounded-lg text-amber-800 hover:bg-amber-100 transition duration-200';
                        if (pageData.id === 'summary') {
                            tocClass = 'block p-3 rounded-lg font-semibold text-amber-900 bg-amber-100 hover:bg-amber-200 transition duration-200';
                        }
                        liToc.innerHTML = `<a href="#${pageData.id}" class="${tocClass}">${pageData.title}</a>`;
                        tocList.appendChild(liToc);
                    }
                });
            }

            const accordionItems = document.querySelectorAll('.accordion-item');
            accordionItems.forEach(item => {
                const header = item.querySelector('.accordion-header');
                header.addEventListener('click', () => {
                    item.classList.toggle('open');
                });
            });

            const textareas = document.querySelectorAll('textarea');
            const loadAnswers = () => {
                textareas.forEach(textarea => {
                    const savedValue = localStorage.getItem(textarea.id);
                    if (savedValue) {
                        textarea.value = savedValue;
                    }
                });
            };
            
            textareas.forEach(textarea => {
                textarea.addEventListener('input', () => {
                    localStorage.setItem(textarea.id, textarea.value);
                });
            });

            loadAnswers();
            
            const summaryBtn = document.getElementById('generate-summary-btn');
            const summaryOutput = document.getElementById('summary-output');
            
            summaryBtn.addEventListener('click', () => {
                summaryOutput.innerHTML = ''; 
                let hasAnswers = false;

                const allQuestions = storyData.filter(d => d.questions).flatMap(c => c.questions);
                 const conclusionQuestions = [
                    { id: 'answer-q8-1', text: '"กระดาน" ใบต่อไปที่เจ้าจะเริ่มเล่นในชีวิตคือเรื่องอะไร?' },
                    { id: 'answer-q8-2', text: 'เจ้าจะเดิน "หมากตัวแรก" บนกระดานใบใหม่นั้นอย่างไร?' }
                ];
                allQuestions.push(...conclusionQuestions);

                const chapterTitles = storyData.reduce((acc, page) => ({...acc, [page.id]: page.title}), {});
                const groupedAnswers = {};
                
                allQuestions.forEach(question => {
                    const answer = localStorage.getItem(question.id);
                    if (answer && answer.trim() !== '') {
                        hasAnswers = true;
                        const chapterId = question.id.startsWith('answer-q8') ? 'conclusion' : `chapter${question.id.split('-')[1].charAt(1)}`;
                        if(!groupedAnswers[chapterId]) groupedAnswers[chapterId] = [];
                        groupedAnswers[chapterId].push({ question: question.text, answer: answer });
                    }
                });

                if (hasAnswers) {
                    Object.keys(groupedAnswers).sort().forEach(chapterId => {
                        const chapterTitle = chapterTitles[chapterId] || 'คำถามสุดท้าย';
                        let chapterHtml = `<div class="mb-6"><h3 class="text-xl font-bold text-amber-800 border-b-2 border-amber-200 pb-2 mb-4">${chapterTitle}</h3>`;
                        groupedAnswers[chapterId].forEach(item => {
                            chapterHtml += `<div class="mb-4"><p class="font-semibold text-amber-700">${item.question}</p><p class="text-slate-600 pl-4 border-l-2 border-amber-300 mt-2 whitespace-pre-wrap">${item.answer}</p></div>`;
                        });
                        chapterHtml += `</div>`;
                        summaryOutput.innerHTML += chapterHtml;
                    });
                } else {
                    summaryOutput.innerHTML = '<p class="text-slate-500 italic">เจ้ายังไม่ได้ตอบคำถามใดๆ เลย... การเดินทางที่แท้จริงเริ่มต้นเมื่อเจ้าเริ่มมองเข้าไปในใจตนเอง</p>';
                }

                summaryOutput.classList.remove('hidden');
                summaryBtn.textContent = 'สร้างสรุปอีกครั้ง';
            });
        });
    </script>
</body>
</html>

